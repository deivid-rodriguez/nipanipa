---

#
# Config
#

branches:
  only:
    - master

cache: bundler

bundler_args: --without development

dist: trusty

env:
  - DB_USER=travis DB_PASS=''

language: ruby

rvm:
  - 2.4.1

sudo: false

#
# Phases
#

before_install:
  - gem update --system 2.6.12
  - npm install -g phantomjs-prebuilt

before_script:
  - git config --local user.email 'travis@travis.ci'
  - git config --local user.name 'Travis CI'

script:
  - bin/rake db:create
  - bin/rspec
  - bin/overcommit --sign
  - bin/overcommit --run
